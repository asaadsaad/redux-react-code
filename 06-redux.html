<script src="https://unpkg.com/expect@1.20.2/umd/expect.min.js"></script>

<script>
    // let's assume we have state as array of objects [{id1, name1}, {id2, name2} ...]
    // This function is to ADD one object to the array (add item to array) without mutation
    function reducer(state = [], action) {
        switch (action.type) {
            case 'ADD_OBJECT': return [...state, action.payload];
            default: return state;
        }
    }


    const stateBefore = [];
    const action = { type: 'ADD_OBJECT', payload: { id: 1, name: 'Asaad' } }
    Object.freeze(stateBefore)
    const stateAfter = [{ id: 1, name: 'Asaad' }];
    try {
        expect(
            reducer(stateBefore, action)
        ).toEqual(stateAfter)
        console.log('Add Object Test passed!')
    } catch (e) {
        console.error(e.message)
    }




</script>